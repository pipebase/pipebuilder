syntax = "proto3";
package manifest;

message GetManifestRequest {
    // get manifest given manifest (namespace, id)
    string namespace = 1;
    string id = 2;
}

message GetManifestResponse {
    // latest manifest version
    uint64 version = 1;
    // manifest binaries
    bytes buffer = 2;
}

message PutManifestRequest {
    // manifest namespace
    string namespace = 1;
    // manifest id
    optional string id = 2;
    // manifest binaries
    bytes buffer = 3;
}

message PutManifestResponse {
    // manifest id
    string id = 1;
    // latest manifest version
    uint64 version = 2;
}

service Manifest {
    rpc GetManifest(GetManifestRequest) returns (GetManifestResponse) {}
    rpc PutManifest(PutManifestRequest) returns (PutManifestResponse) {}
}
